# BlackBoard/helm/templates/secret-argocd.yaml
# ArgoCD CLI credentials placeholder -- rendered when argocd.enabled=true and no existingSecret
{{- if and .Values.argocd.enabled (not .Values.argocd.existingSecret) }}
apiVersion: v1
kind: Secret
metadata:
  name: {{ .Release.Name }}-argocd
  labels:
    app: darwin-brain
    app.kubernetes.io/name: darwin-brain
    app.kubernetes.io/instance: {{ .Release.Name }}
type: Opaque
stringData:
  server: "{{ .Values.argocd.server }}"
  auth-token: "changeme"
{{- end }}
