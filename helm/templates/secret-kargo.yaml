# BlackBoard/helm/templates/secret-kargo.yaml
# Kargo CLI credentials placeholder -- rendered when kargo.enabled=true and no existingSecret
{{- if and .Values.kargo.enabled (not .Values.kargo.existingSecret) }}
apiVersion: v1
kind: Secret
metadata:
  name: {{ .Release.Name }}-kargo
  labels:
    app: darwin-brain
    app.kubernetes.io/name: darwin-brain
    app.kubernetes.io/instance: {{ .Release.Name }}
type: Opaque
stringData:
  server: "{{ .Values.kargo.server }}"
  auth-token: "changeme"
{{- end }}
